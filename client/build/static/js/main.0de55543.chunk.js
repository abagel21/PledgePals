(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,a,t){},34:function(e,a,t){},37:function(e,a,t){e.exports=t(71)},42:function(e,a,t){},43:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},67:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(35),l=t.n(c),s=(t(42),t(8)),i=t(4),o=(t(43),t(1)),m=t.n(o),u=t(5),d=t(14),p=t(15),f=t(3),g=t(2),E=t.n(g),v=(t(32),function(e){var a=Object(n.useState)({email:"",password:""}),t=Object(f.a)(a,2),c=t[0],l=t[1],s=Object(n.useState)(null),o=Object(f.a)(s,2),g=o[0],v=o[1],b=function(e){console.log(c.email),l(Object(p.a)(Object(p.a)({},c),{},Object(d.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(u.a)(m.a.mark((function e(a){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,E.a.post("api/auth/login",JSON.stringify(c),{headers:{"Content-Type":"application/json"}});case 3:t=e.sent,window.localStorage.setItem("user",JSON.stringify(t.data)),console.log(localStorage.getItem("user")),null!=t.data&&v(t.data),console.log(g);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,g?r.a.createElement(i.a,{to:"/friends"}):r.a.createElement("div",{className:"loginWrapper",onSubmit:function(e){return h(e)}},r.a.createElement("div",{className:"formsContainer"},r.a.createElement("form",{action:"",className:"loginForm"},r.a.createElement("h2",{className:"heading"},"Login"),r.a.createElement("div",{className:"loginEmail"},r.a.createElement("input",{type:"text",className:"loginField",onChange:function(e){return b(e)},name:"email",value:c.email,required:!0}),r.a.createElement("label",null,"Email Address")),r.a.createElement("div",{className:"loginPassword"},r.a.createElement("input",{type:"password",className:"loginField",onChange:function(e){return b(e)},name:"password",value:c.password,required:!0}),r.a.createElement("label",null,"Password")),r.a.createElement("input",{type:"submit",className:"loginSubmit",value:"Log In"})))))}),b=function(e){var a=Object(n.useState)({name:"",email:"",password:""}),t=Object(f.a)(a,2),c=t[0],l=t[1],s=Object(n.useState)(!1),o=Object(f.a)(s,2),g=o[0],v=o[1],b=function(e){l(Object(p.a)(Object(p.a)({},c),{},Object(d.a)({},e.target.name,e.target.value))),console.log(JSON.stringify(c))},h=function(){var e=Object(u.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,E.a.post("api/auth/register",JSON.stringify(c),{headers:{"Content-Type":"application/json"}});case 3:null!=e.sent.data&&v(!0);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"registerWrapper"},g?r.a.createElement(i.a,{to:"/login"}):r.a.createElement("div",{className:"formsContainer"},r.a.createElement("form",{action:"",className:"registerForm",onSubmit:function(e){return h(e)}},r.a.createElement("h2",{className:"heading"},"Sign Up"),r.a.createElement("div",{className:"registerName"},r.a.createElement("input",{type:"text",className:"registerField name",onChange:function(e){return b(e)},name:"name",value:c.name,required:!0}),r.a.createElement("label",null,"Name")),r.a.createElement("div",{className:"registerEmail"},r.a.createElement("input",{type:"text",className:"registerField username",onChange:function(e){return b(e)},name:"email",value:c.email,required:!0}),r.a.createElement("label",null,"Email Address")),r.a.createElement("div",{className:"registerPassword"},r.a.createElement("input",{type:"password",className:"registerField password",onChange:function(e){return b(e)},name:"password",value:c.password,required:!0}),r.a.createElement("label",null,"Password")),r.a.createElement("div",{className:"registerConfirm"},r.a.createElement("input",{type:"password",className:"registerField password",required:!0}),r.a.createElement("label",null,"Confirm Password")),r.a.createElement("input",{type:"submit",className:"registerSubmit",value:"Sign Up"}))))},h=(t(67),function(e){return r.a.createElement("div",{className:"home-page"},r.a.createElement("div",{className:"home-div"},r.a.createElement("h1",{className:"homeHeading"},"Pledge Pals"),r.a.createElement("img",{src:"../images/waveback.png",className:"wave",alt:"asdf"}),r.a.createElement("img",{src:"../images/promisedeer.png",className:"deer",alt:"asdf"})))}),N=(t(68),function(e){Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("refreshing"),e.next=3,E.a.get("api/auth");case 3:a=e.sent,console.log("YO"),console.log(JSON.stringify(a)),null!=a.data&&l(a.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var a=Object(n.useState)(null),t=Object(f.a)(a,2),c=t[0],l=t[1];return r.a.createElement("div",{className:"navWrapper"},r.a.createElement("img",{class:"logo",src:"../../images/logo.png",alt:"logo"}),r.a.createElement("nav",null,c?r.a.createElement("ul",{class:"nav_links"},r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/sendreq"},"Make Promises")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/requests"},"Keep Promises")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/request_accept"},"Accept Promises")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/friends"},"Friends"))):r.a.createElement("ul",{class:"nav_links"},r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/register"},"Sign up")))),r.a.createElement("img",{class:"navBanner",src:"../../../images/banner-item.png",alt:"banner"}))}),w=t(12);t(34);var O=function(e){Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("GETTING MEDALLIONS"),e.next=3,E.a.get("/api/medallion");case 3:a=e.sent,console.log(a.data),l(a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var a=r.a.useState([]),t=Object(f.a)(a,2),c=t[0],l=t[1];function s(){return(s=Object(u.a)(m.a.mark((function e(a){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put("/api/medallion/complete/".concat(a.target.name));case 2:t=e.sent,console.log(t.data),l(Object(w.a)(t.data)),console.log(c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"medallionPageWrapper"},r.a.createElement("div",{className:"banner"},r.a.createElement("img",{src:"../images/requests-des.png",alt:""})),c.length>0?r.a.createElement("div",{className:"requestswrapper"},c.map((function(e){return console.log(JSON.stringify(e)),r.a.createElement("div",{className:"medallion"},r.a.createElement("div",{className:"medallion_inner"},r.a.createElement("div",{className:"front"},r.a.createElement("h2",{className:"medallionContent"},e.content),r.a.createElement("div",{className:"flexWrapper"},r.a.createElement("img",{className:"medallion__pic",src:"../images/medallion_img.png",alt:"s"}),r.a.createElement("div",{className:"name__wrapper",name:e._id},r.a.createElement("label",{className:"medallion__name"},e.senderName)),r.a.createElement("img",{className:"clock__pic",src:"../images/date_img.png",alt:"s"})),r.a.createElement("h1",null,e.date),r.a.createElement("h1",null,e.medal)),r.a.createElement("div",{className:"back"},r.a.createElement("button",{className:"complete",onClick:function(e){return function(e){return s.apply(this,arguments)}(e)},name:e._id},"Complete"))))}))):r.a.createElement("div",{className:"requestswrapper"},r.a.createElement("h2",{className:"pendingError"},"You Don't Have Any Pending Medallions!")))},j=(t(69),function(e){var a=r.a.useState(""),t=Object(f.a)(a,2),c=t[0],l=t[1],s=r.a.useState([]),i=Object(f.a)(s,2),o=i[0],m=i[1];function u(e){console.log(e.target.name),e.preventDefault(),E.a.post("/api/medallion/create/"+e.target.name,{content:c},{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)})),document.querySelector(".sendreqinp").value=""}function d(e){var a=e.target.value;l((function(e){return a}))}return Object(n.useEffect)((function(){E.a.get("/api/friends").then((function(e){!function(e){console.log(e.data);var a=e.data;m([].concat(Object(w.a)(o),Object(w.a)(a)))}(e)}))}),[]),r.a.createElement("div",{className:"sendreq-wrapper"},r.a.createElement("img",{src:"../images/ship-medal-des.png",alt:"",className:"sendImg"}),r.a.createElement("ul",null,o.map((function(e){return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",{className:"reqWrapper"},r.a.createElement("h1",{className:"h1ele",name:e._id},e.name),r.a.createElement("input",{className:"sendreqinp",onChange:d,placeholder:"Write a Request"}),r.a.createElement("button",{name:e._id,type:"submit",className:"reqButton",onClick:u},"Send"))))}))))}),y=(t(70),t(20)),x=t.n(y),S=function(e){var a=e.visible,t=e.setVisible;Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/auth/users");case 2:a=e.sent,console.log(a.data),i(a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),x()(".friendModalCover").on("click",(function(e){e.target.dataset.status&&t("false")}));var c=Object(n.useState)(null),l=Object(f.a)(c,2),s=l[0],i=l[1],o=Object(n.useState)(""),d=Object(f.a)(o,2),p=d[0],g=d[1],v=function(){var e=Object(u.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(a.target.value);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t("false"),e.next=3,E.a.post("/api/friends/".concat(a.target.name));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"friendModalCover","data-status":a},r.a.createElement("div",{className:"friendModal"},r.a.createElement("input",{className:"userSearch",type:"text",onChange:function(e){return v(e)},value:p,placeholder:"Search for a user"}),r.a.createElement("div",{className:"userResults"},null!=s?s.filter((function(e){return e.name.substring(0,p.length)==p})).map((function(e){return r.a.createElement("button",{name:e._id,onClick:function(e){console.log("CLICKED"),b(e)}},e.name)})):"Loading...")))},_=function(e){Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/friends");case 3:return(a=e.sent).data.length&&d(a.data),console.log(a.data),e.next=8,E.a.get("/api/friends/requests");case 8:(a=e.sent).data.length&&b(a.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var a=Object(n.useState)("false"),t=Object(f.a)(a,2),c=t[0],l=t[1],s=Object(n.useState)(null),i=Object(f.a)(s,2),o=i[0],d=i[1],p=Object(n.useState)(null),g=Object(f.a)(p,2),v=g[0],b=g[1],h=Object(n.useState)(""),N=Object(f.a)(h,2),w=N[0],O=N[1],j=function(){var e=Object(u.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.target.parentNode.getAttribute("name")),e.next=3,E.a.put("/api/friends/".concat(a.target.parentNode.getAttribute("name")));case 3:window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.target.parentNode.getAttribute("name")),e.next=3,E.a.delete("/api/friends/".concat(a.target.parentNode.getAttribute("name")));case 3:window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"friendsPageWrapper","data-status":c},r.a.createElement(S,{visible:c,setVisible:l}),r.a.createElement("div",{className:"friendsBanner"},r.a.createElement("input",{className:"friendsSearch",type:"text",onChange:function(e){return function(e){O(e.target.value)}(e)},value:w,placeholder:"Search for a friend"}),r.a.createElement("img",{src:"../images/friends-bg.png",alt:""})),r.a.createElement("div",{className:"friends"},r.a.createElement("div",{className:"friendsWrapper"},r.a.createElement("button",{className:"addFriendButton",id:"addFriendButton",onClick:function(e){return l("true")}},r.a.createElement("label",{className:"addLabel",htmlFor:"addFriendButton"},"+")),null==o?r.a.createElement("h2",{className:"friendsError"},"You don't have any friends yet."):o.filter((function(e){return e.name.substring(0,w.length)==w})).map((function(e){return r.a.createElement("div",{className:"friendWrapper",name:e._id},r.a.createElement("label",{className:"friendName"},e.name))})))),r.a.createElement("div",{className:"friendRequestsWrapper"},r.a.createElement("h3",{className:"friendRequestsHeader"},"REQUESTS"),r.a.createElement("div",{className:"friendRequests"},null==v?r.a.createElement("h1",{className:"error"},"You don't have any friend requests yet."):v.map((function(e){return r.a.createElement("div",{className:"friendWrapper",name:e._id},r.a.createElement("label",{className:"friendName"},e.name),r.a.createElement("label",{className:"friendAccept",onClick:function(e){return j(e)}},"Accept"),r.a.createElement("label",{className:"friendReject",onClick:function(e){return y(e)}},"Reject"))})))))};var k=function(e){Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("GETTING MEDALLIONS"),e.next=3,E.a.get("/api/medallion/requests");case 3:a=e.sent,console.log(a.data),l(a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var a=r.a.useState([]),t=Object(f.a)(a,2),c=t[0],l=t[1];function s(){return(s=Object(u.a)(m.a.mark((function e(a){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put("/api/medallion/".concat(a.target.name));case 2:t=e.sent,console.log(t.data),l(Object(w.a)(t.data)),console.log(c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(u.a)(m.a.mark((function e(a){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete("/api/medallion/".concat(a.target.name));case 2:t=e.sent,console.log(t.data),l(Object(w.a)(t.data)),console.log(c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"medallionPageWrapper"},r.a.createElement("div",{className:"banner"},r.a.createElement("img",{src:"../images/request-des-med.png",alt:""})),c.length>0?r.a.createElement("div",{className:"requestswrapper"},c.map((function(e){return console.log(JSON.stringify(e)),console.log(e._id),r.a.createElement("div",{className:"medallion"},r.a.createElement("div",{className:"medallion_inner"},r.a.createElement("div",{className:"front"},r.a.createElement("h2",{className:"medallionContent"},e.content),r.a.createElement("div",{className:"flexWrapper"},r.a.createElement("img",{className:"medallion__pic",src:"../images/medallion_img.png",alt:"s"}),r.a.createElement("div",{className:"name__wrapper",name:e._id},r.a.createElement("label",{className:"medallion__name"},e.senderName)),r.a.createElement("img",{className:"clock__pic",src:"../images/date_img.png",alt:"s"})),r.a.createElement("h1",null,e.date),r.a.createElement("h1",null,e.medal)),r.a.createElement("div",{className:"back"},r.a.createElement("button",{className:"accept",onClick:function(e){return function(e){return s.apply(this,arguments)}(e)},name:e._id},"Accept"),r.a.createElement("button",{className:"reject",onClick:function(e){return function(e){return i.apply(this,arguments)}(e)},name:e._id},"Reject"))))}))):r.a.createElement("div",{className:"requestswrapper"},r.a.createElement("h2",{className:"pendingError"},"You Don't Have Any Pending Medallions!")))};var q=function(){return r.a.createElement(s.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(N,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:h}),r.a.createElement(i.b,{exact:!0,path:"/login",component:v}),r.a.createElement(i.b,{exact:!0,path:"/register",component:b}),r.a.createElement(i.b,{exact:!0,path:"/requests",component:O}),r.a.createElement(i.b,{exact:!0,path:"/request_accept",component:k}),r.a.createElement(i.b,{exact:!0,path:"/sendreq",component:j}),r.a.createElement(i.b,{exact:!0,path:"/friends",component:_}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.0de55543.chunk.js.map